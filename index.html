<!DOCTYPE html>
<html>
<head>
    <title>Word Bites Solver</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.2/css/bulma.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <style>
        .material-icons {
            font-size: 28px;
        }

        .input {
            width: 80%;
        }

        .container {
            padding-left: 30px;
        }
    </style>
</head>
<body>
    <div class="container">
        <br>
        <h3 class="title is-4">GamePigeon Word Bites Solver</h3>
        <p>Enter ONLY LETTERS -- without any commas or other separating characters.</p>
        <br>
        
        <div class="field">
            <p class="control has-icons-left">
                <input id="single" class="input" type="text" placeholder="Single Letters">
                <span class="icon is-medium is-left">
                    <span class="material-icons">
                        font_download
                    </span>
                </span>
            </p>
        </div>
        <div class="field">
            <p class="control has-icons-left">
                <input id="horiz" class="input" type="text" placeholder="Horizontal Boxes">
                <span class="icon is-medium is-left">
                    <span class="material-icons">
                        crop_16_9
                    </span>
                </span>
            </p>
        </div>
        <div class="field">
            <p class="control has-icons-left">
                <input id="vert" class="input" type="text" placeholder="Vertical Boxes">
                <span class="icon is-medium is-left">
                    <span class="material-icons">
                        crop_portrait
                    </span>
                </span>
            </p>
        </div>
        <button id="solve" class="button is-primary">Solve!</button>
    </div>
    <script type="module">
        import init, {run} from "./solver/pkg/wordbites.js";
        init().then(() => {
            document.getElementById("solve").addEventListener("click", () => {
                let letters = document.getElementById("single").value.split("");
                letters = letters.concat(document.getElementById("horiz").value.match(/.{2}/g).map(val => val.split("").join("-")));
                letters = letters.concat(document.getElementById("vert").value.match(/.{2}/g).map(val => val.split("").join("|")));
                console.log(run(letters.join(",")));
            });
        });
    </script>
</body>
</html>